import{l as x,m as d,f as D,h as j,n as g,Q as p,o as f,j as e,L as N,p as y}from"./index-03957ff0.js";import{E}from"./EditIcon-2cca9a3e.js";import{a as G}from"./index.esm-e4ef884d.js";import{m as h,T as k}from"./TransitionModal-9e501ec5.js";import{S as T}from"./SecondaryButton-f0234006.js";import{T as i}from"./TextfieldMultipleType-54ca1060.js";import{u as b}from"./generalStore-856c2565.js";import{U as C}from"./UserRoleCard-77d0e9e4.js";import{H as V}from"./HeaderRole-eb215f28.js";import"./transition-3cbf94cc.js";import"./ImageProfile-d07b88c3.js";const v=()=>{const n=b(o=>o.dataId),{refetchAfterMutation:a}=x(),m=async o=>{try{return await(await j.patch(`${g}/${n}`,o)).data}catch(t){const u=t;throw new Error(u.message)}},l=o=>{p.error(o.message)},{isGeneralData:c,setIsGeneralData:s}=d();return D(["general-settings"],m,{onError:l,onSuccess:o=>{s(!c),p.success(o.message),a(["general-data"])}})},M=()=>{const{mutateAsync:n,isLoading:a}=v();return{onSubmit:async l=>{const c=Number(l.kkm),s={...l,kkm:c};await n(s)},isLoading:a}},_=()=>{const{handleSubmit:n,control:a}=G({mode:"onChange"}),{isGeneralData:m,setIsGeneralData:l}=d(),c=()=>l(!m),{data:s}=f(),{onSubmit:r,isLoading:o}=M();if(o)return e.jsxDEV(N,{},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:21,columnNumber:25},globalThis);const t=s==null?void 0:s.data;return e.jsxDEV(e.Fragment,{children:h?y.createPortal(e.jsxDEV(k,{title:"edit data umum",isOpenModal:m,isCloseModal:c,textColor:"text-secondary",labelBtnTransparent:"batal",children:e.jsxDEV("form",{className:"flex flex-col gap-4 my-4",onSubmit:n(r),children:[e.jsxDEV("div",{className:"grid grid-cols-auto-fit gap-2",children:[e.jsxDEV("section",{className:"flex flex-col gap-2",children:[e.jsxDEV("label",{htmlFor:"period",className:"capitalize text-15px",children:"periode"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:42,columnNumber:21},globalThis),e.jsxDEV(i,{name:"period",control:a,rules:{required:!0},defaultValue:t.period,type:"text",id:"period",placeholder:"masukkan periode"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:45,columnNumber:21},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:41,columnNumber:19},globalThis),e.jsxDEV("section",{className:"flex flex-col gap-2",children:[e.jsxDEV("label",{htmlFor:"semester",className:"capitalize text-15px",children:"semester"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:56,columnNumber:21},globalThis),e.jsxDEV(i,{name:"semester",control:a,rules:{required:!0},defaultValue:t.semester,type:"text",id:"semester",placeholder:"masukkan semester"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:59,columnNumber:21},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:55,columnNumber:19},globalThis),e.jsxDEV("section",{className:"flex flex-col gap-2",children:[e.jsxDEV("label",{htmlFor:"kkm",className:"capitalize text-15px",children:"KKM"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:70,columnNumber:21},globalThis),e.jsxDEV(i,{name:"kkm",control:a,rules:{required:!0},defaultValue:t.kkm,type:"text",id:"kkm",placeholder:"masukkan KKM"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:73,columnNumber:21},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:69,columnNumber:19},globalThis),e.jsxDEV("section",{className:"flex flex-col gap-2",children:[e.jsxDEV("label",{htmlFor:"email",className:"capitalize text-15px",children:"email sekolah"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:84,columnNumber:21},globalThis),e.jsxDEV(i,{name:"emailSchool",control:a,rules:{required:!0},defaultValue:t.emailSchool,type:"email",id:"email",placeholder:"masukkan email sekolah"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:87,columnNumber:21},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:83,columnNumber:19},globalThis),e.jsxDEV("section",{className:"flex flex-col gap-2",children:[e.jsxDEV("label",{htmlFor:"password",className:"capitalize text-15px",children:"kata sandi"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:98,columnNumber:21},globalThis),e.jsxDEV(i,{name:"passwordEmail",control:a,rules:{required:!0},defaultValue:t.passwordEmail,type:"password",id:"password",placeholder:"masukkan sandi email"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:101,columnNumber:21},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:97,columnNumber:19},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:40,columnNumber:17},globalThis),e.jsxDEV(T,{label:"simpan data"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:113,columnNumber:17},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:36,columnNumber:15},globalThis)},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:29,columnNumber:13},globalThis),h):null},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/modals/GeneralDataModal.tsx",lineNumber:25,columnNumber:5},globalThis)},w=[{id:1,type:"text",inEnglish:"period",inIndonesia:"periode",placeholder:"Masukkan tahun pelajaran"},{id:2,type:"number",inEnglish:"semester",inIndonesia:"semester",placeholder:"Masukkan semester"},{id:3,type:"number",inEnglish:"kkm",inIndonesia:"KKM",placeholder:"Masukkan KKM"},{id:4,type:"email",inEnglish:"email",inIndonesia:"email",placeholder:"Masukkan email sekolah"},{id:5,type:"password",inEnglish:"password",inIndonesia:"kata sandi",placeholder:"Masukkan kata sandi"}],I=()=>{const{setIsGeneralData:n,isGeneralData:a}=d(),m=b(o=>o.setDataId),{data:l,isLoading:c}=f(),s=o=>{m(o),n(!a)};if(c)return e.jsxDEV(N,{},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/admin/GeneralData.tsx",lineNumber:19,columnNumber:25},globalThis);const r=l==null?void 0:l.data;return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(_,{},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/admin/GeneralData.tsx",lineNumber:24,columnNumber:7},globalThis),e.jsxDEV("section",{className:"px-5 py-6 flex flex-col gap-4 851px:px-56",children:[e.jsxDEV("section",{className:"flex justify-between items-center",children:[e.jsxDEV("h2",{className:"capitalize font-lexendMedium text-18px",children:"data umum"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/admin/GeneralData.tsx",lineNumber:27,columnNumber:11},globalThis),e.jsxDEV(E,{title:"Edit data umum",onClick:()=>s(r.id)},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/admin/GeneralData.tsx",lineNumber:28,columnNumber:11},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/admin/GeneralData.tsx",lineNumber:26,columnNumber:9},globalThis),e.jsxDEV("section",{className:"card-scroll-horizontal bg-white p-5 flex gap-4 shadow-cardShadow rounded-2xl whitespace-nowrap overflow-auto text-15px",children:[e.jsxDEV("div",{className:"flex flex-col",children:w.map(o=>e.jsxDEV("h3",{className:"capitalize text-[#757575]",children:o.inIndonesia},o.id,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/admin/GeneralData.tsx",lineNumber:37,columnNumber:15},globalThis))},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/admin/GeneralData.tsx",lineNumber:35,columnNumber:11},globalThis),e.jsxDEV("div",{className:"flex flex-col",children:[e.jsxDEV("h3",{children:[": ",r.period]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/admin/GeneralData.tsx",lineNumber:43,columnNumber:13},globalThis),e.jsxDEV("h3",{children:[": ",r.semester]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/admin/GeneralData.tsx",lineNumber:44,columnNumber:13},globalThis),e.jsxDEV("h3",{children:[": ",r.kkm]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/admin/GeneralData.tsx",lineNumber:45,columnNumber:13},globalThis),e.jsxDEV("h3",{children:[": ",r.emailSchool]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/admin/GeneralData.tsx",lineNumber:46,columnNumber:13},globalThis),e.jsxDEV("h3",{children:[": ",r.fixedPassword]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/admin/GeneralData.tsx",lineNumber:47,columnNumber:13},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/admin/GeneralData.tsx",lineNumber:42,columnNumber:11},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/admin/GeneralData.tsx",lineNumber:34,columnNumber:9},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/admin/GeneralData.tsx",lineNumber:25,columnNumber:7},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/admin/GeneralData.tsx",lineNumber:23,columnNumber:5},globalThis)},B=()=>{const n=[{id:1,title:"pegawai",link:"/admin/data-pegawai"},{id:2,title:"kelas",link:"/admin/data-kelas"},{id:3,title:"mata pelajaran",link:"/admin/mata-pelajaran"}];return e.jsxDEV("main",{children:[e.jsxDEV(V,{},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/pages/admin/Index.tsx",lineNumber:14,columnNumber:7},globalThis),e.jsxDEV(I,{},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/pages/admin/Index.tsx",lineNumber:15,columnNumber:7},globalThis),e.jsxDEV(C,{props:n},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/pages/admin/Index.tsx",lineNumber:16,columnNumber:7},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/pages/admin/Index.tsx",lineNumber:13,columnNumber:5},globalThis)};export{B as default};
