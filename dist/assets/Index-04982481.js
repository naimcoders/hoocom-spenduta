import{j as e,r as f,L as v,w as D,K as T}from"./index-03957ff0.js";import{u as y}from"./generalStore-856c2565.js";import{C as E}from"./ChevronUpDownIcon-90b3bc61.js";import{N,C as _}from"./CheckIcon-ac94d568.js";import{t as V}from"./transition-3cbf94cc.js";import{u as k,a as P}from"./use-student-performance-e21ea302.js";import{a as L}from"./use-wali-kelas-3b7cef6d.js";import"./guru-mapel.api-f18ae5d4.js";const O=({classname:o})=>e.jsxDEV("header",{className:"bg-white text-18px p-5 851px:px-56",children:[e.jsxDEV("h1",{className:"font-lexendSemiBold capitalize",children:"kinerja murid"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/Header.tsx",lineNumber:8,columnNumber:7},globalThis),e.jsxDEV("h2",{className:"text-[#4D4D4D] text-14px",children:["Kelas ",o]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/Header.tsx",lineNumber:9,columnNumber:7},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/Header.tsx",lineNumber:7,columnNumber:5},globalThis),S=({lessons:o})=>{const{setSelectedLesson:n}=y(),r={lesson:"Pilih mapel"},[t,l]=f.useState([r,...o]),[s,c]=f.useState(t[0]);return f.useEffect(()=>{n(s.lesson)},[s.lesson]),e.jsxDEV("div",{className:"w-full relative",children:e.jsxDEV(N,{value:s,onChange:c,children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(N.Button,{className:"relative w-full rounded-lg bg-white mb-2 py-3 none-highlight pl-3 pr-10 text-left focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm cursor-pointer",children:[e.jsxDEV("span",{className:"block truncate text-[#4D4D4D] text-[14px]",children:s.lesson},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/options/OptionLessons.tsx",lineNumber:35,columnNumber:13},globalThis),e.jsxDEV("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:e.jsxDEV(E,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/options/OptionLessons.tsx",lineNumber:39,columnNumber:15},globalThis)},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/options/OptionLessons.tsx",lineNumber:38,columnNumber:13},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/options/OptionLessons.tsx",lineNumber:34,columnNumber:11},globalThis),e.jsxDEV(V,{as:f.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsxDEV(N.Options,{className:"mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:o.length<1?e.jsxDEV("h2",{className:"text-red-500 text-15px p-2",children:"Tidak ada mapel"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/options/OptionLessons.tsx",lineNumber:53,columnNumber:17},globalThis):o.map(a=>e.jsxDEV(N.Option,{className:({active:m})=>`relative cursor-pointer select-none py-2 pl-10 pr-4 text-15px none-highlight ${m?"bg-amber-100 text-amber-900":"text-gray-900"}`,value:a,children:({selected:m})=>e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:`block truncate ${m?"font-lexendMedium":"font-lexendRegular"}`,children:a==null?void 0:a.lesson},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/options/OptionLessons.tsx",lineNumber:67,columnNumber:25},globalThis),m?e.jsxDEV("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600",children:e.jsxDEV(_,{className:"h-5 w-5","aria-hidden":"true"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/options/OptionLessons.tsx",lineNumber:78,columnNumber:29},globalThis)},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/options/OptionLessons.tsx",lineNumber:77,columnNumber:27},globalThis):null]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/options/OptionLessons.tsx",lineNumber:66,columnNumber:23},globalThis)},a.lesson,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/options/OptionLessons.tsx",lineNumber:56,columnNumber:19},globalThis))},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/options/OptionLessons.tsx",lineNumber:51,columnNumber:13},globalThis)},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/options/OptionLessons.tsx",lineNumber:45,columnNumber:11},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/options/OptionLessons.tsx",lineNumber:33,columnNumber:9},globalThis)},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/options/OptionLessons.tsx",lineNumber:32,columnNumber:7},globalThis)},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/options/OptionLessons.tsx",lineNumber:31,columnNumber:5},globalThis)},A=()=>e.jsxDEV("section",{className:"flex flex-col gap-4",children:[e.jsxDEV("p",{className:"text-[#4D4D4D] text-12px",children:"*Pilihan mata pelajaran di bawah ini berdasarkan penilaian setiap guru mapel."},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/Options.tsx",lineNumber:11,columnNumber:7},globalThis),e.jsxDEV("p",{className:"text-[#4D4D4D] text-12px",children:"*Apabila tidak terdapat data penilaian, berarti guru mapel yang bersangkutan belum menentukan bobot penilaian."},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/Options.tsx",lineNumber:15,columnNumber:7},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/Options.tsx",lineNumber:10,columnNumber:5},globalThis),I=o=>o.map(({lessonId:n})=>({lesson:n})),U=()=>{const{data:o,isLoading:n}=k(),r=(o==null?void 0:o.data)??[],t=I(r);return e.jsxDEV(e.Fragment,{children:n?e.jsxDEV(v,{},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/Options.tsx",lineNumber:38,columnNumber:9},globalThis):e.jsxDEV("section",{className:"flex flex-col gap-6 851px:px-56 px-5",children:[e.jsxDEV(A,{},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/Options.tsx",lineNumber:41,columnNumber:11},globalThis),e.jsxDEV("section",{className:"flex flex-col gap-2",children:[e.jsxDEV("h2",{className:"text-15px",children:"Mata pelajaran"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/Options.tsx",lineNumber:43,columnNumber:13},globalThis),e.jsxDEV(S,{lessons:t},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/Options.tsx",lineNumber:44,columnNumber:13},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/Options.tsx",lineNumber:42,columnNumber:11},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/Options.tsx",lineNumber:40,columnNumber:9},globalThis)},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/Options.tsx",lineNumber:36,columnNumber:5},globalThis)},F=()=>{var u,d,i,p,g,j,C;const{classname:o}=D(),{selectedLesson:n}=y(),r=T(w=>w.user),t=(r==null?void 0:r.period)??"",l=L(o),s=P(o,n,t),c=(u=l.data)==null?void 0:u.data,a=(i=(d=s.data)==null?void 0:d.data)==null?void 0:i.attendances,m=(g=(p=s.data)==null?void 0:p.data)==null?void 0:g.assessments,b=(C=(j=s.data)==null?void 0:j.data)==null?void 0:C.bobot;return{getStudents:l,dataPerformance:s,students:c,attendances:a,assessments:m,bobots:b}},h=(o,n,r,t)=>{const l=t==null?void 0:t.filter(i=>i.studentId===o&&i.type===n),s=l==null?void 0:l.map(i=>i.score),c=s==null?void 0:s.length,m=(s==null?void 0:s.reduce((i,p)=>i+p,0))/c,b=n.toLowerCase(),u=r.bobot[b],d=m*u;return d||"-"},x=(o,n,r)=>{const t=r==null?void 0:r.filter(s=>s.studentId===o),l=t==null?void 0:t.map(s=>s.status);return l==null?void 0:l.filter(s=>s===n)},H=({nis:o,fullname:n})=>e.jsxDEV("section",{children:[e.jsxDEV("h1",{className:"text-14px text-[#4D4D4D]",children:o},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:21,columnNumber:7},globalThis),e.jsxDEV("h2",{className:"text-15px",children:n},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:22,columnNumber:7},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:20,columnNumber:5},globalThis),z=({id:o,attendances:n})=>{var s,c,a;if((n==null?void 0:n.length)<1)return null;const r=(s=x(o,"Hadir",n))==null?void 0:s.length,t=(c=x(o,"Izin",n))==null?void 0:c.length,l=(a=x(o,"Absen",n))==null?void 0:a.length;return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("section",{className:"flex flex-col gap-1",children:[e.jsxDEV("h1",{className:"text-15px font-lexendMedium",children:"Presensi"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:43,columnNumber:9},globalThis),e.jsxDEV("section",{className:"text-14px flex gap-4 whitespace-nowrap overflow-auto card-scroll-horizontal py-2",children:[e.jsxDEV("span",{children:["Hadir : ",r]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:45,columnNumber:11},globalThis)," | ",e.jsxDEV("span",{children:["Izin : ",t]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:45,columnNumber:44},globalThis)," |"," ",e.jsxDEV("span",{children:["Absen : ",l]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:46,columnNumber:11},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:44,columnNumber:9},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:42,columnNumber:7},globalThis),e.jsxDEV("hr",{},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:49,columnNumber:7},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:41,columnNumber:5},globalThis)},M=({id:o,assessments:n,bobot:r})=>{if((n==null?void 0:n.length)<1||!(r!=null&&r.bobot))return null;const t=h(o,"Tugas",r,n),l=h(o,"Ulangan",r,n),s=h(o,"UTS",r,n),c=h(o,"UAS",r,n);return e.jsxDEV("section",{className:"flex flex-col gap-1",children:[e.jsxDEV("h1",{className:"text-15px font-lexendMedium",children:"Nilai"},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:64,columnNumber:7},globalThis),e.jsxDEV("section",{className:"text-14px flex gap-4 whitespace-nowrap overflow-auto py-2 card-scroll-horizontal",children:[e.jsxDEV("span",{children:["Tugas : ",t]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:66,columnNumber:9},globalThis)," | ",e.jsxDEV("span",{children:["Ulangan : ",l]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:66,columnNumber:40},globalThis)," |"," ",e.jsxDEV("span",{children:["UTS : ",s]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:67,columnNumber:9},globalThis)," | ",e.jsxDEV("span",{children:["UAS : ",c]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:67,columnNumber:36},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:65,columnNumber:7},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:63,columnNumber:5},globalThis)},G=()=>{const{getStudents:o,dataPerformance:n,students:r,assessments:t,attendances:l,bobots:s}=F();return o.isLoading||n.isLoading?e.jsxDEV(v,{},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:83,columnNumber:66},globalThis):e.jsxDEV("section",{className:"851px:px-56 px-5 py-3 mb-6 grid grid-cols-auto-fit gap-5",children:r==null?void 0:r.map(({id:c,student:a,fullname:m})=>e.jsxDEV("section",{className:"bg-white p-4 rounded-lg flex flex-col gap-5",children:[e.jsxDEV(H,{nis:a.nis,fullname:m},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:92,columnNumber:11},globalThis),e.jsxDEV(z,{id:c,attendances:l},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:93,columnNumber:11},globalThis),e.jsxDEV(M,{id:c,assessments:t,bobot:s},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:94,columnNumber:11},globalThis)]},c,!0,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:88,columnNumber:9},globalThis))},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/wali-kelas/student-performance/CardPerformance.tsx",lineNumber:86,columnNumber:5},globalThis)},X=()=>{const{classname:o}=D();return e.jsxDEV("main",{className:"flex flex-col gap-6",children:[e.jsxDEV(O,{classname:o},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/pages/wali-kelas/student-performance/Index.tsx",lineNumber:12,columnNumber:7},globalThis),e.jsxDEV(U,{},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/pages/wali-kelas/student-performance/Index.tsx",lineNumber:13,columnNumber:7},globalThis),e.jsxDEV(G,{},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/pages/wali-kelas/student-performance/Index.tsx",lineNumber:14,columnNumber:7},globalThis)]},void 0,!0,{fileName:"C:/my code/hoocom_project/frontend/src/pages/wali-kelas/student-performance/Index.tsx",lineNumber:11,columnNumber:5},globalThis)};export{X as default};
