import{T as d,U as g,f as z,Q as r,V as h,d as T,r as P,K as Y,q as N,W as R,X as O,Y as y,Z as q,_ as B,j as J}from"./index-03957ff0.js";import{a as W}from"./index.esm-e4ef884d.js";const L="data:image/webp;base64,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",H=`${g}/validate-password`,j=`${g}/change-password`,b=(e,o)=>d({url:e,method:"PATCH",data:o}),Q=e=>d({url:H,method:"POST",data:e}),X=e=>d({url:j,method:"PATCH",data:e}),K=e=>{const o=`${g}/photo/${e}`;return z({mutationKey:["patch-photo-profile",e],mutationFn:t=>b(o,t),onSuccess:t=>{r.success(t.message),setTimeout(h,1100)},onError:t=>r.error(t.message)})},ae=()=>{const{actionSecondModal:e}=$();return z({mutationKey:["change-password"],mutationFn:X,onSuccess:a=>{r.success(a.message),e(),setTimeout(h,1800)},onError:a=>r.error(a.message)})},ne=()=>z({mutationKey:["validate-password"],mutationFn:Q,onSuccess:s=>r.success(s.message),onError:s=>r.error(s.message)});var D=(e=>(e[e.maxImageSize=2]="maxImageSize",e[e.devideImageSize=1024]="devideImageSize",e))(D||{});const U=e=>{const{devideImageSize:o,maxImageSize:s}=D,l=(e/o/o).toFixed(2);return Number(l)>s},G=async e=>{try{return await B(e)}catch(o){const s=o;throw new Error(s.message)}},p=e=>`hoocom/${e}`,re=()=>{const e=T(),o=P.useRef(null),[s,a]=P.useState(0),t=Y(n=>n.user),c=(t==null?void 0:t.id)??"",l=t==null?void 0:t.urlImage,E=l||L,w=()=>{o.current&&o.current.click()},f=K(c);return{navigateToProfile:()=>e("/profil"),fileInputRef:o,onClickEditPhoto:w,handlePhotoChange:n=>{var I,v,M;const F=new Date().getTime(),u=n.target.files,k=((v=(I=n.target.files)==null?void 0:I[0])==null?void 0:v.size)??0;if((u==null?void 0:u.length)<1)return;if(U(k)){r.error("Ukuran foto maksimal 2MB"),setTimeout(h,2e3);return}const S=(M=n.target.files)==null?void 0:M[0],V=`${S.name}-${F}`,Z=p(V),A=R(y,Z),C=O(A,S);C.on("state_changed",i=>{const m=Math.round(i.bytesTransferred/i.totalBytes*100);a(m)},i=>console.error(i),async()=>{const m={urlImage:await G(C.snapshot.ref),imageName:V};await f.mutateAsync(m)})},percent:s,setImageSrc:E,onClickDeletePhoto:async()=>{try{const n=p((t==null?void 0:t.imageName)??""),x=R(y,n);await q(x),await f.mutateAsync({imageName:null,urlImage:null})}catch(n){console.error(n)}}}},$=()=>{const{control:e,handleSubmit:o}=W({mode:"onChange"}),{isFirstModal:s,isSecondModal:a,actionSecondModal:t,actionFirstModal:c}=N();return{isFirstModal:s,actionFirstModal:c,control:e,actionSecondModal:t,isSecondModal:a,handleSubmit:o}},ie=({src:e,onClick:o,width:s,height:a})=>J.jsxDEV("img",{src:e,alt:"profile",className:`${s} ${a} none-highlight object-cover img-rendering cursor-pointer rounded-50%`,title:"img",onClick:o},void 0,!1,{fileName:"C:/my code/hoocom_project/frontend/src/components/ImageProfile.tsx",lineNumber:10,columnNumber:5},globalThis);export{ie as I,ne as a,ae as b,re as c,$ as u};
